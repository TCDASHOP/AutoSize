<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <title>TCDA Size Guide</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="brandName">Transcend Color Digital Apparel</div>
      <div class="brandSub" id="brandSub">Size Guide</div>
    </div>

    <div class="topControls">
      <div class="toggleGroup" aria-label="Language">
        <button class="toggleBtn" id="langJP" type="button">JP</button>
        <button class="toggleBtn" id="langEN" type="button">EN</button>
      </div>

      <div class="toggleGroup" aria-label="Unit">
        <button class="toggleBtn" id="unitCM" type="button">cm</button>
        <button class="toggleBtn" id="unitIN" type="button">inch</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="card" id="guideCard">
      <div class="cardHead">
        <div>
          <div class="cardTitle" id="titleGuide">Measuring Guide</div>
          <div class="cardHint" id="hintGuide">Image changes by product.</div>
        </div>
      </div>

      <div class="guideWrap">
        <img id="guideImage" class="guideImage" src="assets/guide_tshirt.jpg" alt="Measuring guide" loading="eager" />
        <div class="imgNote" id="imgNote">※ 画像は商品に応じて切り替わります</div>
        <div class="imgFallback" id="imgFallback" hidden></div>
      </div>
    </section>

    <section class="card" id="inputCard">
      <div class="cardHead">
        <div>
          <div class="cardTitle" id="titleInput">Input (optional)</div>
          <div class="cardHint" id="hintInput">You can view the size table without input.</div>
        </div>
        <div class="unitBadge" id="unitBadge">cm</div>
      </div>

      <div class="field">
        <label class="label" id="labelProduct" for="productButton">Product</label>

        <!-- Custom dropdown (2-line label works on all devices) -->
        <div class="combo" id="productCombo">
          <button class="comboButton" id="productButton" type="button"
            aria-haspopup="listbox" aria-expanded="false">
            <span class="comboText" id="productButtonText"></span>
            <span class="comboChevron" aria-hidden="true">▾</span>
          </button>
          <div class="comboList" id="productList" role="listbox" tabindex="-1" hidden></div>
        </div>
      </div>

      <div id="inputArea"></div>

      <button class="primaryBtn" id="calcBtn" type="button">Calculate recommended size</button>

      <div class="sectionTitle" id="titleNotes">Notes when choosing</div>
      <div class="noticeBox" id="noticeBox"></div>

      <div class="sectionTitle" id="titleResult">Recommended</div>
      <div class="resultBox" id="resultBox">—</div>
    </section>

    <section class="card full" id="tableCard">
      <div class="cardHead">
        <div>
          <div class="cardTitle" id="titleTable">Size Table</div>
          <div class="cardHint" id="hintTable">Values are flat measurements (±1–2).</div>
        </div>
        <button class="btnMini" id="downloadCsvBtn" type="button">Download CSV</button>
      </div>

      <div class="tableWrap" role="region" aria-label="Size table">
        <table class="table">
          <thead id="tableHead"></thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
    </section>
  </main>

  <footer class="footer">
    <a class="footerLink" id="backToShop" href="https://www.tcda.shop/" target="_blank" rel="noopener">Back to Shop</a>
    <div class="footerCopy" id="footerCopy"></div>
  </footer>

  <script src="app.js" defer></script>
</body>
</html>
