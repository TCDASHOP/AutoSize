<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TCDA Size Guide</title>
  <meta name="description" content="TCDA size guide with automatic size recommendation." />
  <link rel="stylesheet" href="styles.css?v=20251219b" />
</head>
<body>
  <header class="topbar" role="banner">
    <div class="brand" aria-label="TCDA">
      <div class="brand-title">Transcend Color Digital Apparel</div>
      <div class="brand-sub">Size Guide</div>
    </div>

    <nav class="controls" aria-label="Controls">
      <button class="pill" type="button" data-action="set-lang" data-value="jp">JP</button>
      <button class="pill" type="button" data-action="set-lang" data-value="en">EN</button>

      <button class="pill" type="button" data-action="set-unit" data-value="cm">cm</button>
      <button class="pill" type="button" data-action="set-unit" data-value="inch">inch</button>

      <a class="pill pill-link" id="backToShop" href="https://www.tcda.shop/" rel="noopener">ショップに戻る</a>
    </nav>
  </header>

  <main class="container" role="main">
    <section class="grid">
      <section class="card">
        <h2 id="guideTitle">採寸ガイド</h2>
        <p id="guideNote" class="muted">※画像は商品に応じて切り替わります</p>
        <div class="guide-image-wrap">
          <img id="guideImage" src="assets/guide_tshirt.jpg" alt="Measurement guide" loading="lazy" />
        </div>
      </section>

      <section class="card">
        <h2 id="calcTitle">サイズ算出</h2>
        <p id="calcSub" class="muted">入力しなくてもサイズ表だけ見て選べます</p>

        <div class="form">
          <label id="productLabel" for="productSelect">商品</label>
          <select id="productSelect"></select>

          <!-- TOPS / OUTER -->
          <div id="topsInputs" class="inputs">
            <div class="row">
              <div class="field">
                <label id="chestLabel" for="chestInput">ヌード胸囲 (cm)</label>
                <input id="chestInput" inputmode="decimal" type="number" step="0.1" placeholder="例: 88" />
                <div id="chestHint" class="hint">わからない場合は下の推定入力を使えます（精度は落ちます）</div>
              </div>

              <div class="field">
                <label id="fitLabel" for="fitSelect">ゆとり（目安）</label>
                <select id="fitSelect">
                  <option value="tight">ぴったり</option>
                  <option value="standard" selected>標準</option>
                  <option value="relaxed">ゆったり</option>
                </select>
              </div>
            </div>

            <details class="details" open>
              <summary id="estimateSummary">推定入力（身長＋体重/BMI＋性別）</summary>

              <div class="row">
                <div class="field">
                  <label id="heightLabel" for="heightInput">身長 (cm)</label>
                  <input id="heightInput" inputmode="decimal" type="number" step="0.1" placeholder="例: 170" />
                </div>

                <div class="field">
                  <label id="weightLabel" for="weightInput">体重 (kg)</label>
                  <input id="weightInput" inputmode="decimal" type="number" step="0.1" placeholder="例: 65" />
                </div>

                <div class="field">
                  <label id="bmiLabel" for="bmiInput">BMI（任意）</label>
                  <input id="bmiInput" inputmode="decimal" type="number" step="0.1" placeholder="例: 22" />
                  <div id="bmiHint" class="hint">体重を入れると自動計算（BMIだけ入力でもOK）</div>
                </div>
              </div>

              <div class="row">
                <div class="field">
                  <label id="genderLabel" for="genderSelect">性別</label>
                  <select id="genderSelect">
                    <option value="female" selected>女性</option>
                    <option value="male">男性</option>
                    <option value="other">その他/未回答</option>
                  </select>
                </div>

                <div class="field">
                  <label id="regionLabel" for="regionSelect">基準</label>
                  <select id="regionSelect">
                    <option value="jp" selected>日本平均</option>
                    <option value="global">海外平均</option>
                  </select>
                  <div id="regionHint" class="hint">推定にのみ使用（実測胸囲が最優先）</div>
                </div>
              </div>
            </details>
          </div>

          <!-- SHOES -->
          <div id="shoesInputs" class="inputs hidden">
            <div class="row">
              <div class="field">
                <label id="footLabel" for="footInput">足の長さ（かかと〜一番長い指）(cm)</label>
                <input id="footInput" inputmode="decimal" type="number" step="0.1" placeholder="例: 23.5" />
              </div>

              <div class="field">
                <label id="allowLabel" for="allowSelect">捨て寸（目安）</label>
                <select id="allowSelect"></select>
              </div>
            </div>

            <div id="shoeTips" class="hint">
              ・左右を測り、長い方を採用。<br>
              ・アウトソールは外寸のため、足長と同一視しない。
            </div>
          </div>

          <button id="calcBtn" class="primary" type="button">おすすめサイズを計算</button>

          <div class="result">
            <div class="result-title" id="resultTitle">おすすめ</div>
            <div class="result-value" id="resultValue">—</div>
            <div class="result-detail muted" id="resultDetail"></div>
          </div>

          <div class="actions">
            <button id="btnReset" class="pill" type="button">入力を見直す</button>
            <button id="btnScrollTable" class="pill" type="button">サイズ表で選ぶ</button>
          </div>
        </div>
      </section>
    </section>

    <section class="card table-card" id="tableSection">
      <div class="table-head">
        <h2 id="tableTitle">サイズ表</h2>
        <div id="tableNote" class="muted">数値は平置き採寸です（誤差 ±1〜2）</div>
      </div>

      <div class="table-wrap" role="region" aria-label="Size table" tabindex="0">
        <table id="sizeTable"></table>
      </div>
    </section>
  </main>

  <footer class="footer" role="contentinfo">
    <img class="footer-logo" src="assets/tcda-logo.png" alt="TCDA logo" loading="lazy" />
    <div class="footer-copy">© 2025 Transcend Color Digital Apparel</div>
  </footer>

  <script src="app.js?v=20251219b" defer></script>
</body>
</html>
